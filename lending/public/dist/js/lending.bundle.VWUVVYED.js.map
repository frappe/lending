{
  "version": 3,
  "sources": ["../../../../../apps/lending/lending/public/js/loan_common.js"],
  "sourcesContent": ["// Copyright (c) 2016, Frappe Technologies Pvt. Ltd. and contributors\n// For license information, please see license.txt\nfrappe.provide(\"lending.common\");\n\nlending.common = {\n\tsetup_filters: function(doctype) {\n\t\tfrappe.ui.form.on(doctype, {\n\t\t\trefresh: function(frm) {\n\t\t\t\tif (['Loan Disbursement', 'Loan Repayment', 'Loan Interest Accrual', 'Loan Write Off', 'Loan Demand', 'Loan Refund'].includes(frm.doc.doctype)\n\t\t\t\t\t&& frm.doc.docstatus > 0) {\n\t\t\t\t\tcur_frm.add_custom_button(__('Accounting Ledger'), function() {\n\t\t\t\t\t\tfrappe.route_options = {\n\t\t\t\t\t\t\tvoucher_no: frm.doc.name,\n\t\t\t\t\t\t\tfrom_date: frm.doc.accrual_date || frm.doc.posting_date || frm.doc.demand_date,\n\t\t\t\t\t\t\tto_date: frm.doc.accrual_date || frm.doc.posting_date || frm.doc.demand_date,\n\t\t\t\t\t\t\tcompany: frm.doc.company,\n\t\t\t\t\t\t\tgroup_by: \"Group by Voucher (Consolidated)\",\n\t\t\t\t\t\t\tshow_cancelled_entries: frm.doc.docstatus === 2\n\t\t\t\t\t\t};\n\t\t\t\t\t\tfrappe.set_route(\"query-report\", \"General Ledger\");\n\t\t\t\t\t}, __(\"View\"));\n\t\t\t\t}\n\t\t\t\terpnext.hide_company();\n\t\t\t},\n\n\t\t\tapplicant: function(frm) {\n\t\t\t\tif (![\"Loan Application\", \"Loan\"].includes(frm.doc.doctype)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (frm.doc.applicant) {\n\t\t\t\t\tfrappe.model.with_doc(frm.doc.applicant_type, frm.doc.applicant, function() {\n\t\t\t\t\t\tvar applicant = frappe.model.get_doc(frm.doc.applicant_type, frm.doc.applicant);\n\t\t\t\t\t\tfrm.set_value(\"applicant_name\",\n\t\t\t\t\t\t\tapplicant.employee_name || applicant.member_name);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tfrm.set_value(\"applicant_name\", null);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}"],
  "mappings": ";;AAEA,SAAO,QAAQ,gBAAgB;AAE/B,UAAQ,SAAS;AAAA,IAChB,eAAe,SAAS,SAAS;AAChC,aAAO,GAAG,KAAK,GAAG,SAAS;AAAA,QAC1B,SAAS,SAAS,KAAK;AACtB,cAAI,CAAC,qBAAqB,kBAAkB,yBAAyB,kBAAkB,eAAe,aAAa,EAAE,SAAS,IAAI,IAAI,OAAO,KACzI,IAAI,IAAI,YAAY,GAAG;AAC1B,oBAAQ,kBAAkB,GAAG,mBAAmB,GAAG,WAAW;AAC7D,qBAAO,gBAAgB;AAAA,gBACtB,YAAY,IAAI,IAAI;AAAA,gBACpB,WAAW,IAAI,IAAI,gBAAgB,IAAI,IAAI,gBAAgB,IAAI,IAAI;AAAA,gBACnE,SAAS,IAAI,IAAI,gBAAgB,IAAI,IAAI,gBAAgB,IAAI,IAAI;AAAA,gBACjE,SAAS,IAAI,IAAI;AAAA,gBACjB,UAAU;AAAA,gBACV,wBAAwB,IAAI,IAAI,cAAc;AAAA,cAC/C;AACA,qBAAO,UAAU,gBAAgB,gBAAgB;AAAA,YAClD,GAAG,GAAG,MAAM,CAAC;AAAA,UACd;AACA,kBAAQ,aAAa;AAAA,QACtB;AAAA,QAEA,WAAW,SAAS,KAAK;AACxB,cAAI,CAAC,CAAC,oBAAoB,MAAM,EAAE,SAAS,IAAI,IAAI,OAAO,GAAG;AAC5D;AAAA,UACD;AAEA,cAAI,IAAI,IAAI,WAAW;AACtB,mBAAO,MAAM,SAAS,IAAI,IAAI,gBAAgB,IAAI,IAAI,WAAW,WAAW;AAC3E,kBAAI,YAAY,OAAO,MAAM,QAAQ,IAAI,IAAI,gBAAgB,IAAI,IAAI,SAAS;AAC9E,kBAAI;AAAA,gBAAU;AAAA,gBACb,UAAU,iBAAiB,UAAU;AAAA,cAAW;AAAA,YAClD,CAAC;AAAA,UACF,OACK;AACJ,gBAAI,UAAU,kBAAkB,IAAI;AAAA,UACrC;AAAA,QACD;AAAA,MACD,CAAC;AAAA,IACF;AAAA,EACD;",
  "names": []
}
